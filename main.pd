#N canvas 577 89 690 680 12;
#X declare -path ./bop;
#X declare -path ./bop/babs;
#X declare -path ../../pd;
#X obj 32 14 cnv 19 370 40 empty empty plantsOS\ ðŸ¥¶\ coldvoice 70 20 0 16 #c6ffc7 #e3c6ff 0;
#X obj 338 32 nbx 4 17 -1e+37 1e+37 0 1 version empty version 0 -10 0 12 #c6ffc7 #000000 #000000 2 256;
#X obj 32 70 cnv 19 370 150 empty empty empty 20 12 0 12 #e3c6ff #404040 0;
#X obj 32 244 cnv 19 370 150 empty empty empty 20 12 0 12 #c6feff #404040 0;
#X text 37 248 VOICES;
#N canvas 0 37 1470 891 mapping 0;
#X obj 110 397 s calibrate;
#X obj 108 253 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 108 60 green \; calibrate \;;
#X obj 349 103 loadbang;
#X obj 86 205 sel 0 1;
#X obj 87 106 r buttons;
#X msg 87 130 \$1;
#X obj 1319 752 r osc-in;
#X obj 1319 776 route debug;
#X obj 1251 725 r from-arduino;
#X obj 1259 835 route traw;
#X obj 1259 863 route 0 1;
#X obj 1256 927 pack;
#X msg 1273 960 debug \$1 \$2;
#X obj 1273 998 s osc-out;
#X obj 1259 804 babs.gate;
#X msg 1255 892 \$1;
#X msg 1286 893 \$1;
#X obj 423 781 r osc-in;
#X obj 427 930 s sensitivity;
#X obj 554 933 s floor;
#X text 426 758 set sensitivity;
#X obj 423 805 route sens sensitivity floor;
#X text 1257 697 raw debug;
#X obj 640 804 loadbang;
#X obj 640 828 delay 2000;
#X obj 355 328 line~;
#X msg 354 299 \$1 10;
#X text 349 65 pot3 \; master gain;
#X obj 87 168 change;
#X obj 120 289 s click;
#X obj 107 332 delay 3000;
#X obj 123 365 s click;
#X obj 780 792 r osc-in;
#X obj 780 816 route backing;
#X obj 780 910 s bg-gain;
#X obj 803 849 loadbang;
#X msg 796 881 0.1;
#X text 777 752 set backing;
#X obj 97 647 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 97 623 metro 1 1 min;
#X obj 173 595 * 60;
#X obj 101 509 loadbang;
#X text 83 479 calibrate every n hours;
#X msg 101 568 1;
#X obj 97 685 s calibrate;
#X msg 178 562 6;
#X obj 267 582 r osc-in;
#X obj 267 606 route calibrate;
#X obj 270 639 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 270 677 s calibrate;
#X text 256 549 calibrate;
#X obj 976 829 pack;
#X obj 956 770 r sensor1;
#X obj 1042 769 r sensor2;
#X msg 986 943 debug \$1 \$2;
#X obj 986 981 s osc-out;
#X obj 984 893 babs.gate;
#X obj 1029 840 r osc-in;
#X obj 1029 864 route debug;
#X text 962 748 scaled debug;
#X msg 104 855 \$1;
#X msg 226 859 \$1;
#X obj 103 954 s sensor1;
#X obj 226 954 s sensor2;
#X obj 103 919 filter-and-scale;
#X obj 226 918 filter-and-scale;
#X msg 619 860 10;
#X msg 690 878 0.01;
#X obj 100 780 r osc-in;
#X obj 100 804 route touch1 touch2;
#X text 1826 1330 comment;
#X obj 576 104 r osc-in;
#X obj 576 128 route adc;
#X obj 576 152 unpack f f f f;
#X obj 614 263 s pot;
#X obj 355 358 s~ gain;
#X obj 610 192 / 3.3;
#X obj 610 216 expr 1 - $f1;
#X msg 349 127 0.1;
#X obj 434 259 r pot;
#X connect 1 0 30 0;
#X connect 1 0 31 0;
#X connect 3 0 79 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 29 0;
#X connect 7 0 8 0;
#X connect 8 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 11 1 17 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 10 0;
#X connect 16 0 12 0;
#X connect 17 0 12 1;
#X connect 18 0 22 0;
#X connect 22 0 19 0;
#X connect 22 1 19 0;
#X connect 22 2 20 0;
#X connect 24 0 25 0;
#X connect 25 0 67 0;
#X connect 25 0 68 0;
#X connect 26 0 76 0;
#X connect 27 0 26 0;
#X connect 29 0 4 0;
#X connect 31 0 0 0;
#X connect 31 0 32 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 37 0;
#X connect 37 0 35 0;
#X connect 39 0 45 0;
#X connect 40 0 39 0;
#X connect 41 0 40 1;
#X connect 42 0 46 0;
#X connect 42 0 44 0;
#X connect 44 0 40 0;
#X connect 46 0 41 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 52 0 57 0;
#X connect 53 0 52 0;
#X connect 54 0 52 1;
#X connect 55 0 56 0;
#X connect 57 0 55 0;
#X connect 58 0 59 0;
#X connect 59 0 57 1;
#X connect 61 0 65 0;
#X connect 62 0 66 0;
#X connect 65 0 63 0;
#X connect 66 0 64 0;
#X connect 67 0 19 0;
#X connect 68 0 20 0;
#X connect 69 0 70 0;
#X connect 70 0 61 0;
#X connect 70 1 62 0;
#X connect 72 0 73 0;
#X connect 73 0 74 0;
#X connect 74 1 77 0;
#X connect 77 0 78 0;
#X connect 78 0 75 0;
#X connect 79 0 27 0;
#X connect 80 0 27 0;
#X restore 276 183 pd mapping;
#X f 16;
#X obj 32 416 cnv 19 370 250 empty empty empty 20 12 0 12 #feffc6 #404040 0;
#X obj 213 605 declare -path ./bop, f 24;
#X obj 45 634 dac~, f 12;
#X msg 313 559 \; pd dsp 1;
#X obj 313 520 loadbang, f 9;
#X obj 45 437 catch~ left;
#X obj 157 436 catch~ right;
#X obj 157 487 bop.reverb~;
#A saved size 0.592857;
#A saved damp 0.835714;
#A saved cutoff 5000;
#A saved wet 0.857143;
#A saved dry 1;
#X obj 213 634 declare -path ./bop/babs;
#X obj 157 560 *~;
#X obj 45 560 *~;
#N canvas 507 80 614 872 getvoice 0;
#X obj 190 553 babs.counter, f 16;
#X obj 242 798 file handle;
#X obj 348 691 file which;
#X obj 348 727 unpack s f;
#X msg 348 655 symbol persist/voice.txt;
#X msg 348 758 open \$1 c;
#X obj 190 262 file handle;
#X obj 279 150 file which;
#X obj 279 186 unpack s f;
#X msg 279 114 symbol persist/voice.txt;
#X obj 190 10 loadbang;
#X floatatom 190 394 5 0 0 0 - - - 0;
#X obj 190 43 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 279 217 open \$1;
#X obj 190 70 t b b, f 13;
#X msg 190 143 1 \, close;
#X msg 242 679 close;
#X obj 295 729 + 48;
#X obj 190 300 - 48;
#X obj 190 615 t f b f b, f 23;
#X obj 264 303 print file-write;
#X text 394 183 read voice from file at load;
#X text 451 717 save voice to file;
#X obj 190 108 delay 5;
#X obj 190 495 s \$0-nextvoice;
#X obj 190 524 r \$0-nextvoice;
#X obj 190 826 s active-voice;
#X floatatom 17 47 12 0 0 0 - active-voice - 0;
#X obj 203 335 r osc-in;
#X obj 190 426 t b f, f 16;
#X obj 203 359 route voice;
#X text 275 334 receive voice as OSC command;
#X obj 17 18 bng 19 250 50 0 \$0-nextvoice \$0-nextvoice next\ voice 24 10 0 12 #fcfcfc #000000 #000000;
#X floatatom 262 582 5 0 0 0 - - - 0;
#X floatatom 114 575 5 0 0 0 - - - 0;
#X obj 190 577 % 4;
#X connect 0 0 33 0;
#X connect 0 0 35 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 6 0 18 0;
#X connect 6 1 20 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 11 0 29 0;
#X connect 12 0 14 0;
#X connect 13 0 6 0;
#X connect 14 0 23 0;
#X connect 14 1 9 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 11 0;
#X connect 19 0 26 0;
#X connect 19 1 16 0;
#X connect 19 2 17 0;
#X connect 19 3 4 0;
#X connect 23 0 15 0;
#X connect 25 0 0 0;
#X connect 28 0 30 0;
#X connect 29 0 24 0;
#X connect 29 1 0 1;
#X connect 30 0 11 0;
#X connect 35 0 19 0;
#X connect 35 0 34 0;
#X coords 0 -1 1 1 115 65 2 10 10;
#X restore 266 265 pd getvoice;
#X obj 41 268 voice.0 0;
#X obj 41 287 voice.1 1;
#X obj 43 171 bng 19 250 50 0 calibrate calibrate calibrate 21 10 0 12 #fcfcfc #000000 #000000;
#X obj 43 127 nbx 4 17 0 50 0 0 sensitivity sensitivity sensitvity 55 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 43 144 nbx 4 17 0 1 0 0 floor floor floor 55 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 45 601 clip~ -1 1;
#X obj 128 600 clip~ -1 1;
#X obj 45 488 bop.reverb~;
#A saved size 0.592857;
#A saved damp 0.835714;
#A saved cutoff 5000;
#A saved wet 0.857143;
#A saved dry 1;
#X obj 41 306 voice.2 2;
#X obj 41 325 voice.3 3;
#X obj 46 79 hsl 162 19 0 1 0 0 sensor1 empty sensor1 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 46 98 hsl 162 19 0 1 0 0 sensor2 empty sensor2 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 426 15 cnv 19 250 200 empty empty bopOS\ boilerplate 20 12 0 12 #c7c6ff #404040 0;
#X obj 444 127 declare -path ../../pd;
#X msg 444 84 \; pd dsp 1;
#X obj 444 55 loadbang, f 9;
#X obj 444 165 bopos.osc, f 10;
#X obj 444 146 bopos.feedback, f 16;
#X msg 436 276 io create touch1 mpr121 0x5A;
#X msg 455 303 io create touch2 mpr121 0x5C;
#X obj 436 387 s osc-in;
#X obj 471 242 loadbang;
#X msg 471 336 io create adc ads1015 0x48;
#X obj 63 526 r~ gain;
#X obj 175 529 r~ gain;
#X connect 10 0 9 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 15 0 24 0;
#X connect 16 0 23 0;
#X connect 21 0 22 0;
#X connect 23 0 8 0;
#X connect 24 0 8 1;
#X connect 25 0 16 0;
#X connect 33 0 32 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 39 0 36 0;
#X connect 39 0 37 0;
#X connect 39 0 40 0;
#X connect 40 0 38 0;
#X connect 41 0 16 1;
#X connect 42 0 15 1;
